<!DOCTYPE html>
<html>
<head>
    <title>Active Devices Dashboard</title>
    <style>
        body { font-family: Arial; background-color: #f0f0f0; padding: 20px; }
        table { border-collapse: collapse; width: 80%; margin: auto; background-color: #fff; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        th, td { padding: 12px; text-align: center; border-bottom: 1px solid #ccc; }
        th { background-color: #007bff; color: white; }
        h2 { text-align: center; }
    </style>
    <script>
        setTimeout(function(){
            window.location.reload();
        }, 30000); // Refresh every 30 seconds
    </script>
    <!-- <script>
    // Refresh of local database
    setInterval(() => {
        location.reload();  // reloads the page
    }, 35000); //Referesh in every 30 sec
</script> -->


</head>
<body>
    <h2>üñ•Ô∏è Active Devices (Last 0.5 Minutes)</h2>
    <table>
        <tr>
            <th>MAC Address</th>
            <th>Last Seen</th>
        </tr>
        {% for device in devices %}
        <tr>
            <td>{{ device.mac_address }}</td>
            <td>{{ device.last_seen|date:"Y-m-d H:i:s" }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="2">No active devices found recently.</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
